# ZX81 Maintenance

## Video Signal Generation

The video signal is generated by the ULA. Said signal is transmitted from pin 16 of the ULA to the RF modulator.

![Rf Modulator](_images/Conexion%20modulador%20RF.png?raw=true "Rf Modulator")

The ULAs models 2C158E and 2C184E do not generate the "backporch" signal, so the image on a modern TV comes out very black, even after adjusting the contrast or brightness. Something that was not a problem in old TVs since they were not very sensitive to this signal, although the PAL and NTSC standards were not exactly met. The ULA model 2C210E solves this problem.

During software LOAD and SAVE operations using an external player connected to the corresponding jacks on the computer, the tuning signal to the TV is lost. This is because the TV signal and the connection to the TAPE jack share the same ULA pin (pin 16). This TAPE jack is connected to the MIC jack on the computer. The ULA cannot undertake both operations at the same time, TV signal generation and the TAPE/TAPE IN operation.

The following figure shows the typical display pattern of signal loss during software upload and write operations.

![loading_signal](_images/Se%C3%B1al%20carga.png?raw=true "Loading signal")

If the ZX81 has a video circuit that allows the use of a modern TV through a composite video or SCART socket, it is very possible that the signal is completely lost (black screen), recovering again after finishing charging or recording.

Below is the part of the schematic that shows the TV signal generation circuit. 

![Video_Generation_Circuit](_images/circuito%20generacion%20video.png?raw=true "Video Generation Circuit")


## Improved Video Output Quality

There are several alternatives to improve the quality of the video signal that can be consulted on various websites. It is recommended to consult these websites to see the modification proposal.


![ULA Improvements](_images/esquema%20mejoras.jpg?raw=true "ULA Improvements")


(1) The values of the resistor connected to the emitter of the NPN transistor vary depending on the
source: 33, 75, 82 and 100 ohms.


### References

* [Website The Spectrum Storage Room](http://trastero.speccy.org/)
* [ZX-TEAM website](http://www.zx81.de/)
* [Blog old8bits](http://old8bits.blogspot.com.es/)


## Generating Composite Video Signal

![Composite Video](_images/AV%20para%20ZX81.jpg?raw=true "Composite Video")

![Composite Video2](_images/ZX81_video_mod.gif?raw=true "Composite Video2")

![Composite Video3](_images/ZX81_video_mod2.png?raw=true "Composite Video3")


## Keyboard Membrane Replacement


![Membrane 1](_images/membrana1.png?raw=true "Menbrane 1")

![Membrane 2](_images/membrana2.png?raw=true "Menbrane 2")

![Membrane 3](_images/membrana3.png?raw=true "Menbrane 3")

![Membrane 4](_images/membrana4.png?raw=true "Menbrane 4")

![Membrane 5](_images/membrana5.png?raw=true "Menbrane 5")

![Membrane 6](_images/membrana6.png?raw=true "Menbrane 6")

![Membrane 7](_images/membrana7.png?raw=true "Menbrane 7")

![Membrane 8](_images/membrana8.png?raw=true "Menbrane 8")


## Increasing Useful Life

The ULA is, together with the 7805 regulator, the component that generates the most heat inside the computer. Some tests carried out with a heatsink on the ULA have managed to lower the temperature by more than 10ÂºC. Also on the ZX81, there is space between the top of the ULA and the case for installation.

The other element to replace is the 7805 regulator, whose task is to convert and regulate the unregulated voltage that comes from the power supply from +9V to +5V. The unnecessary intensity is evacuated in the form of heat through the dissipating plate to which it is screwed.

This set can be replaced by more modern regulators, which do not heat up and therefore do not need a heatsink, such as the TracoPower ones. The suitable TracoPower model is the TSR 1-2450 that allows currents of 1A, and a wide range of input voltages (6.5 - 36 VDC). It is not necessary to install a capacitor to filter the ripple of the output signal since the TracoPower already incorporates these filter capacitors in its internal circuit.

Other components different from the one proposed are perfectly valid taking into account the criteria of size, regulation, intensity and voltage delivered, and temperature generated.

Indirectly, changing this component also has the benefit of lengthening the life of the keyboard membrane, whose connectors are very close to the heat dissipating plate.

Replacement of electrolytic capacitors is always recommended after several years. The ZX81 only has two electrolytic capacitors (C3 and C5) so this operation is simple.


## HRG on Original Memory Expansion Modules

Original memory expansion modules, such as those from Sinclair, Timex, or Memotech, do not support the use of High-Resolution Graphics (HRG or HIRES) routines. There are two mounting schemes that can be found on the web, although both are very similar and vary only in the value of the resistors.

The software that uses the HIRES routines requires 6 kB of memory and RAM to be available during memory refresh. The mount does just that, isolating the RFSH and RD signals from memory expansion. This circuit converts each refresh cycle into a read cycle.

The assembly shown is based on the ZX-Team schematic. Another assembly is the one proposed by Wilf Ritger in his web-tutorial on the ZX81 video system.


![HGR Mod](_images/modificacion%20HRG.png?raw=true "HGR Mod")


This modification can be done on a rear bus expansion board so that neither the original ZX81 board nor the memory expansion module have to be modified. In this case, a ZX81XT board like the one shown in the following photo has been used.

The diode model used for assembly is 1N34A.

![HGR Mod xt](_images/zx81xt.png?raw=true "HGR Mod xt")

You have to identify the pins corresponding to the RFSH and RD signals and isolate them from their corresponding track.

![HGR Mod1](_images/modHRG1.png?raw=true "HGR Mod1")

![HGR Mod2](_images/modHRG2.png?raw=true "HGR Mod2")

The following photo shows the final assembly.

![HGR Mod3](_images/modHRG3.png?raw=true "HGR Mod3")


### References

* [ZX81 Video Tutorial by Wilf Ritger](http://www.user.dccnet.com/wrigter/index_files/ZX%20Video%20Tutorial.htm)
* [Video Output ZX-TEAM web](http://www.zx81.de/english/_frame_e.htm)
